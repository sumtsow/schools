<?php

$title = $this->translate('Edit Program');
$this->headTitle($title);
$programForm = $this->programForm;
$programForm->setAttribute('action', $this->url('program', ['action' => 'edit', 'id' => $this->id]))->setAttribute('id', 'program');
$id = $programForm->get('id');
$id_school = $programForm->get('id_school');
$program = $programForm->get('title')->setLabel('Education Program')->setAttribute('class', 'form-control');
$period = $programForm->get('period')->setLabel('Learning Period')->setAttributes(['class' => 'form-control', 'placeholder' => '4.5']);
$year = $programForm->get('year')->setLabel('Year')->setAttributes(['class' => 'form-control', 'placeholder' => date('Y')]);
$specialty = $programForm->get('id_specialty')->setLabel('Specialty')->setAttribute('class', 'form-control');
$level = $programForm->get('id_level')->setLabel('Select Level')->setAttribute('class', 'form-control');
$form = $programForm->get('id_form')->setLabel('Education Form')->setAttribute('class', 'form-control');
$programForm->prepare();
?>
<div class="content">
	<h1 class="text-center"><?= $this->escapeHtml($title); ?></h1>
	<div class="row justify-content-center">
		<div class="col-10">
			<?= $this->form()->openTag($programForm); ?>
				<?= $this->formHidden($id);?>
				<?= $this->formHidden($id_school);?>
				<div class="form-group">
				<?= $this->formLabel($program) ?>
				<?= $this->formElement($program); ?>
				</div>
				<div class="form-group">
				<?= $this->formLabel($period) ?>
				<?= $this->formElement($period); ?>
				</div>
				<div class="form-group">
				<?= $this->formLabel($year) ?>
				<?= $this->formElement($year); ?>
				</div>
				<div class="form-group">
				<?= $this->formLabel($specialty) ?>
				<?= $this->formElement($specialty); ?>
				</div>
				<div class="form-group">
				<?= $this->formLabel($level) ?>
				<?= $this->formElement($level); ?>
				</div>
				<div class="form-group">
				<?= $this->formLabel($form) ?>
				<?= $this->formElement($form) ?>
				</div>
				<button class="btn btn-info mt-3 mb-5 mr-3" onclick="window.history.back();">&laquo; <?= $this->translate('Back'); ?></button>			
				<?= $this->formSubmit($programForm->get('submit')->setAttribute('class', 'btn btn-primary mt-3 mb-5'));?>
			<?= $this->form()->closeTag(); ?>
		</div>
	</div>
	<h3 class="text-center"><?= $this->translate('Subjects'); ?></h3>

	<div class="row justify-content-center">
		<div class="col-10">
			<form id="subjects">				
<?php foreach($this->subjects as $id => $subject) : ?>				
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="title[<?= $id; ?>]"><?= $this->translate('Title'); ?></label>
						<input type="text" class="form-control" id="title[<?= $id; ?>]" value="<?= $subject['title']; ?>" readonly="readonly">
					</div>
					<div class="form-group col-md-2">
						<label for="required[<?= $id; ?>]"><?= $this->translate('Required'); ?></label>
						<input type="text" class="form-control" id="required[<?= $id; ?>]" value="<?= $subject['required']; ?>">
					</div>
					<div class="form-group col-md-2">
						<label for="coefficient[<?= $id; ?>]"><?= $this->translate('Coefficient'); ?></label>
						<input type="text" class="form-control" id="coefficient[<?= $id; ?>]" value="<?= $subject['coefficient']; ?>">
					</div>
					<div class="form-group col-md-2">
						<label for="rating[<?= $id; ?>]"><?= $this->translate('Rating'); ?></label>
						<input type="text" class="form-control" id="rating[<?= $id; ?>]" value="<?= $subject['rating']; ?>">
					</div>
				</div>
<?php endforeach; ?>
			<button type="submit" class="btn btn-primary mt-2 mb-3"><?= $this->translate('Save'); ?></button>
			</form>				
		</div>
	</div>
</div>